<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.snscard.web.mapper.InformationMapper">
    <insert id="insertUserPath" parameterType="String">
        insert into path(name,image_all_name,cardNum) values (#{name},#{image_all_name},#{cardNum});
    </insert>
    <insert id="insertUserInfo" parameterType="com.snscard.web.pojo.UserInfo">
        insert into user_info(name,cardNum,info,templateNum) values (#{name},#{cardNum},#{info},#{templateNum})
    </insert>
    <select id="queryUserInfo"  resultType="com.snscard.web.utils.ResultInfoAndImage">
        select p.name, p.cardNum, u.info, p.image_all_name,u.templateNum,i.x1,i.x3,i.y1,i.y3 from user_info u join path p join image_coordinate i  where p.name=#{name}=u.name=i.name and p.cardNum=#{cardNum}=u.cardNum=i.cardNum
    </select>
    <insert id="insertUserCropPath" parameterType="String">
        insert into crop_path(name,image_all_name,cardNum) values (#{name},#{image_all_name},#{cardNum});
    </insert>
    <parameterMap id="image" type="com.snscard.web.pojo.UserImage">
        <parameter property="name" javaType="String"/>
        <parameter property="pageNum" javaType="int"/>
    </parameterMap>
    <select id="queryAllUserImage" parameterMap="image" resultType="String">
        select image_all_name from path  where name=#{name} LIMIT #{pageNum}, 10;
    </select>
    <select id="queryAllUserCropperImage" parameterMap="image" resultType="String">
        select image_all_name from crop_path where name=#{name} LIMIT #{pageNum}, 10;
    </select>
    <insert id="insertGitHubUrl" parameterType="String">
        insert into user_url(name,github_url,cardNum) values (#{name},#{github_url},#{cardNum});
    </insert>
    <insert id="insertNaverUrl" parameterType="com.snscard.web.pojo.UserGitHubUrl">
        insert into user_url(name,naver_url,cardNum) values (#{name},#{naver_url},#{cardNum});
    </insert>
    <insert id="insertTistoryUrl" parameterType="com.snscard.web.pojo.UserGitHubUrl">
        insert into user_url(name,tistory_url,cardNum) values (#{name},#{tistory_url},#{cardNum});
    </insert>
    <insert id="insertUserUrlInfo" parameterType="String">
        insert into user_url_info(name,title,data,cardNum) values(#{name},#{title},#{data},#{cardNum});
    </insert>
    <select id="queryUserGithubInfo" parameterType="int" resultType="String">
        select title from user_url_info where cardNum=#{cardNum};
    </select>
    <select id="queryUserNaverInfo" parameterType="int" resultType="String">
        select title from user_url_info where cardNum=#{cardNum};
    </select>
    <select id="queryUserTistoryInfo" parameterType="int" resultType="String">
        select title from user_url_info where cardNum=#{cardNum};
    </select>
</mapper>